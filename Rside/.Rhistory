library(conflicted)
library(data.table)
library(dplyr)
library(dbplyr)
library(DBI)
library(dtplyr)
library(glmnet)
library(gnm)
library(haven)
library(here)
library(inline)
library(labeling)
library(lintr)
library(pillar)
library(plyr)
library(readr)
library(readxl)
library(reshape2)
library(rlang)
library(rstudioapi)
library(sp)
detach("package:sp", unload = TRUE)
library(stringr)
library(tensorA)
library(tibble)
library(readr)
advertiser_campaigns <- read_csv("data/advertiser_campaigns.csv")
View(advertiser_campaigns)
library(readr)
inter <- read_csv("data/interactions.csv")
View(inter)
library(readr)
pub <- read_csv("data/publisher_contents.csv")
View(pub)
v
library(jsonlite)
json_data <- fromJSON('result.json')
json_data <- fromJSON('result.json')
json_data <- fromJSON('result')
json_data <- fromJSON('data/result.json')
View(json_data)
remove(json_data)
data <- fromJSON('data/result.json')
class(data)
class(data$graph)
data$graph
View(advertiser_campaigns)
unique(json_data[["nodes"]][["color"]])
unique(data[["nodes"]][["color"]])
which( data[["nodes"]][["color"]] == "blue")
which( data[["nodes"]][["color"]] == "red")
unique(data[["nodes"]][["type"]])
which( data[["nodes"]][["type"]] == "TRUE")
which( data[["nodes"]][["type"]] == "False")
which( data[["nodes"]][["type"]] == "FALSE
")
unique(data[["nodes"]][["type"]])
which( data[["nodes"]][["type"]] == "FALSE")
fdata = which( data[["nodes"]][["type"]] == "FALSE")
tdata = which( data[["nodes"]][["type"]] == "TRUE")
length(fdata)
length(tdata)
rdata = which( data[["nodes"]][["color"]] == "red")
bdata = which( data[["nodes"]][["color"]] == "blue")
length(rdata)
length(bdata)
unique(json_data[["nodes"]][["_igraph_index"]])
unique(data[["nodes"]][["_igraph_index"]])
nodeindex = unique(data[["nodes"]][["_igraph_index"]])
length(nodeindex)
linkindex = unique(data[["links"]][["_igraph_index"]])
length(linkindex)
unique(data[["links"]][["source"]])
unique(data[["links"]][["target"]])
sorlink = unique(data[["links"]][["source"]])
tarlink = unique(data[["links"]][["target"]])
length(sorlink)
length(tarlink)
length(nodeindex)
length(tarlink)
length(fdata)
length(tdata)
class(data['nodes'])
class(data['nodes'][0])
class(data['nodes'])
class(data$nodes)
nodes = data$nodes
link_data <- data$links
node_data <- data$nodes
class(node_data)
class(link_data)
node_data.head()
head(node_data)
colnames(link_data)
rownames(link_data)
write_csv(link_data, "links.csv")
write_csv(node_data, "node.csv")
class(link_data$source)
class(link_data$target)
class(link_data$key)
class(link_data$`_igraph_index`)
class(node_data$`_igraph_index`)
class(node_data$name)
class(node_data$type)
class(node_data$color)
class(node_data$id)
gc()
library(readr)
library(conflicted)
library(dplyr)
library(readr)
library(readxl)
library(stringi)
library(stringr)
library(tidyr)
library(tibble)
getwd()
adver_camp <- read_csv("Rside/data/advertiser_campaigns.csv")
adver_camp <- read_csv("data/advertiser_campaigns.csv")
publish_content <- read_csv("data/publisher_contents.csv")
#View(publish_content)
#View(adver_camp)
class(publish_content)
class(adver_camp)
colnames(publish_content)
colnames(adver_camp)
dim(publish_content)
dim(adver_camp)
#uniqCat <- unique(adver_camp$`Media Plans Filter → Categories`)
class(uniqCat)
View(uniqCat)
categori <- adver_camp$`Media Plans Filter → Categories`
class(categori)
categori[1]
cateAll <- vector()
for (i in c( 1 : length(categori) )) {
temp <- categori[i]
temp2 <- str_split(temp, boundary("word"))[[1]][4]
cateAll[i] <- temp2
}
uniqCateAll <- unique(cateAll)
( uniqCateAll <- unique(cateAll) )
uniqCateAll <- na.omit(uniqCateAll)
uniqCateAll
class(uniqCateAll)
length(uniqCateAll)
uniqCateAll[1]
uniqCateAll[40]
uniqCateAll[54]
tempolar <- list()
for (i in uniqCateAll) {
tempolar[[i]] <- as.vector( which( cateAll == i ) )
}
class(tempolar)
dim(tempolar)
tempolar[[:]]
tempolar[[]]
tempolar[,]
tempolar
adver_camp$...1[1]
adver_camp$...1[10]
adver_camp$...1[5000]
adver_camp$...1[9000]
adver_camp$...1[9000]
len(adver_camp$...1)
length(adver_camp$...1)
length(adver_camp)
(adver_camp)
row(adver_camp$...1)
row(adver_camp)
adver_camp$...1 + 1
adver_camp$...1
adver_camp$...1 + 1
adver_camp$...1
adver_camp$...1 <- adver_camp$...1 + 1
adver_camp$...1
which( adver_camp$...1 == tempolar$آشپزی )
tempolar$آشپزی
tempolar
which( tempolar$آشپزی == adver_camp$...1)
which( tempolar$آشپزی == adver_camp)
which( adver_camp == tempolar$آشپزی)
tempolar$آشپزی
adver_camp
row_number(adver_camp)
rownames(adver_camp)
which ( rownames(adver_camp) == tempolar$آشپزی)
adver_camp$ID[tempolar$آشپزی]
tempolar
syntax <- adver_camp$ID[tempolar$سبک]
dress <- adver_camp$ID[tempolar$پوشاک]
tempolar
tempolar[[]]
tempolar[,:]
tempolar[,1]
tempolar[[1]][]
tempolar[[]][1]
tempolar[][1]
tempolar[1]
tempolar[1][[1]]
tempolar[1][0]
tempolar[1][1]
tempolar[1][1][0]
tempolar[1][1][1]
tempolar[[1]][0][1]
tempolar[[1]][0]
tempolar[[1]][1]
names <- vector()
IDs <- vector()
names <- vector()
IDs <- vector()
for (i in uniqCateAll) {
k <- 1
names[k] <- i
IDs[k] <- which( cateAll == i )
k <- k+1
}
IDs
names <- vector()
IDs <- vector()
for (i in c(1: length(uniqCateAll))) {
k <- uniqCateAll[i]
names[i] <- k
K <- which( cateAll == k )
for (j in K) {
IDs[i] <- j
}
k <- k+1
}
names <- vector()
IDs <- vector()
for (i in c(1: length(uniqCateAll))) {
k <- uniqCateAll[i]
names[i] <- k
K <- which( cateAll == k )
for (j in K) {
IDs[i] <- j
}
}
names
IDs
names <- vector()
IDs <- vector()
n <- 0
for (i in c(1: length(uniqCateAll))) {
k <- uniqCateAll[i]
K <- which( cateAll == k )
for (j in K) {
n <- n + 1
names[n] <- k
IDs[n] <- j
}
}
names
IDs
length(IDs)
length(names)
tempolar
for i in tempolar:
for (i in tempolar){}
for (i in tempolar){
for j in i
for (i in tempolar){
for (j in i) {
d = 1
print(d)
d = d+1
}
}
d = 1
for (i in tempolar){
for (j in i) {
print(d)
d = d+1
}
}
names <- vector()
IDs <- vector()
n <- 0
for (i in c(1: length(uniqCateAll))) {
k <- uniqCateAll[i]
K <- as.vector( which( cateAll == k ) )
for (j in K) {
n <- n + 1
names[n] <- k
IDs[n] <- j
}
}
names
IDs
names[910]
names[911]
names[912]
names[913]
AdverIDcat <- data.frame( cbind( names, IDs))
AdverIDcat
names
str_replace("آرایشی", )
as <- "آرایشی"
tempolar[["فال"]]
tempolar[["آشپزی"]]
tempolar$آشپزی
for (i in c(1: length(uniqCateAll))) {
k <- uniqCateAll[i]
K <- as.vector( which( cateAll == k ) )
for (j in K) {
n <- n + 1
names[n] <- k
IDs[n] <- j
}
}
for (i in c(1: length(uniqCateAll))) {
k <- uniqCateAll[i]
K <- as.vector( which( cateAll == k ) )
for (j in K) {
print(j)
}
}
for (i in c(1: length(uniqCateAll))) {
k <- uniqCateAll[i]
K <- as.vector( which( cateAll == k ) )
for (j in K) {
print(i)
}
}
for (i in c(1: length(uniqCateAll))) {
k <- uniqCateAll[i]
K <- as.vector( which( cateAll == k ) )
for (j in K) {
print(k)
}
}
for (i in c(1: length(uniqCateAll))) {
k <- uniqCateAll[i]
K <- as.vector( which( cateAll == k ) )
for (j in K) {
print(K)
}
}
for (i in c(1: length(uniqCateAll))) {
k <- uniqCateAll[i]
K <- as.vector( which( cateAll == k ) )
print(k)
for (j in K) {
print("")
}
}
for (i in c(1: length(uniqCateAll))) {
k <- uniqCateAll[i]
K <- as.vector( which( cateAll == k ) )
print(K[[k]])
for (j in K) {
print("")
}
}
for (i in c(1: length(uniqCateAll))) {
k <- uniqCateAll[i]
K <- as.vector( which( cateAll == k ) )
print(K[k])
for (j in K) {
print("")
}
}
names <- vector()
IDs <- vector()
n <- 0
for (i in c(1: length(uniqCateAll))) {
k <- uniqCateAll[i]
K <- as.vector( which( cateAll == k ) )
for (j in K) {
n <- n + 1
jj <- adver_camp$ID[k]
names[n] <- k
IDs[n] <- jj
}
}
names
IDs
names <- vector()
IDs <- vector()
n <- 0
for (i in c(1: length(uniqCateAll))) {
k <- uniqCateAll[i]
K <- as.vector( which( cateAll == k ) )
for (j in K) {
n <- n + 1
jj <- adver_camp$ID[j]
names[n] <- k
IDs[n] <- jj
}
}
IDs
length(IDs)
IDs[900]
names[900]
names[913]
names[912]
adver_campIDsCategory <- data.frame( cbind( names, IDs))
adver_campIDsCategory
as.integer(adver_campIDsCategory$IDs)
vf = as.integer(adver_campIDsCategory$IDs)
max(vf)
adver_campIDsCategory
names <- vector()
IDs <- vector()
n <- 0
for (i in c(1: length(uniqCateAll))) {
k <- uniqCateAll[i]
K <- as.vector( which( cateAll == k ) )
for (j in K) {
n <- n + 1
jj <- adver_camp$ID[j]
names[n] <- k
IDs[n] <- jj
}
}
adver_campIDsCategory <- data.frame( cbind( names, IDs))
adver_campIDsCategory
getOption("max.print")
getOption("max.print") ==5000
getOption("max.print") =5000
getOption("max.print" == 5000)
getOption("max.print" = 5000)
getOption(max.print = 5000)
setOption(max.print = 5000)
setOption("max.print" = 5000)
options("max.print" = 5000)
adver_campIDsCategory
write_csv(x = adver_campIDsCategory , file =  "output/adver_campIDsCategory.csv")
colors()
for (i in c(1:656)) {
i = i +12
}
length(uniqCateAll)
uniqCateAll
657/54
656/54
655/54
654/54
653/54
651/54
650/54
640/54
648/54
for (i in c(1:648)) {
print(i)
}
for (i in c(1:648)) {
j <- i + 12
}
for (i in c(1:648)) {
j <- i + 12
}
As <- as.vector( colors())
As
colars <- vector
colars <- vector()
for (i in c(1:648)) {
j <- i + 12
colars <- c(colars, As[j])
}
colars
for (i in c(1:648)) {
j <- i + 12
colars <- c(colars, As[j])
}
648+36
for (i in c(1:684)) {
j <- i + 12
colars <- c(colars, As[j])
}
colars
colars <- vector()
for (i in c(1:684)) {
j <- i + 12
colars <- c(colars, As[j])
}
colars
for (i in c(1:684)) {
j <- i + 12
colars <- c(colars, As[j])
}684
648-36
for (i in c(1:612)) {
j <- i + 12
colars <- c(colars, As[j])
}684
colars <- vector()
for (i in c(1:612)) {
j <- i + 12
colars <- c(colars, As[j])
}
colars
c(1, 100, 5)
(1, 100, 5)
range(1, 4)
range(1, 500, 4)
colsars <- c("azure", "tan4", "steelblue3","springgreen", "royalblue4","saddlebrown","salmon","mistyrose""snow3" "red3""palevioletred""lavenderblush""orangered""gold1""lightsalmon"  "maroon2""mediumorchid4""palegreen1""sienna1""grey98""grey19""darkorchid""paleturquoise4""honeydew3"
colsars <- c("azure", "tan4", "steelblue3","springgreen", "royalblue4","saddlebrown","salmon","mistyrose","snow3", "red3,","palevioletred","lavenderblush","orangered","gold1","lightsalmon","maroon2","mediumorchid4","palegreen1","sienna1","grey98","grey19","darkorchid","paleturquoise4","honeydew3")
length(colsars)
colsars <- c("azure", "tan4", "steelblue3","springgreen", "royalblue4","saddlebrown","salmon","mistyrose","snow3", "red","palevioletred","lavenderblush","orangered","gold1","lightsalmon","maroon2","mediumorchid4","palegreen1","sienna1","grey98","grey19","darkorchid","paleturquoise4","honeydew3","paleturquoise2","honeydew1","paleturquoise3","honeydew2","paleturquoise1", "tan4", "steelblue3", "tan3", "steelblue2", "tan1", "steelblue1","snow2", "red2","snow1", "red4")
length(colsars)
colsars <- c("azure", "tan4", "steelblue3","springgreen", "royalblue4","saddlebrown","salmon","mistyrose","snow3", "red","palevioletred","lavenderblush","orangered","gold1","lightsalmon","maroon2","mediumorchid4","palegreen1","sienna1","grey98","grey19","darkorchid","paleturquoise4","honeydew3","paleturquoise2","honeydew1","paleturquoise3","honeydew2","paleturquoise1", "tan4", "steelblue3", "tan3", "steelblue2", "tan1", "steelblue1","snow2", "red2","snow1", "red4", )
pubCont <- publish_content$`Media App Media Plan - Media Plan → Content Type`
length(pubCont)
unique(pubCont)
which(publish_content$`Media App Media Plan - Media Plan → Content Type`=="POST")
unique(publish_content$`Media App Media Plan - Media Plan → Content Format`)
which(publish_content$`Media App Media Plan - Media Plan → Content Format` == "IMAGE")
which(publish_content$`Media App Media Plan - Media Plan → Content Format` == "VIDEO")
unique(publish_content$`Media App Media Plan - Media Plan → Campaign Type`)
gc()
